% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/0_Data_Generation_CombPrev.R
\name{gen_time_dependent_beta_tx}
\alias{gen_time_dependent_beta_tx}
\title{Generate Stratified Time-to-Event Data with Time-Dependent Covariate Effects}
\usage{
gen_time_dependent_beta_tx(
  M,
  ni,
  beta,
  beta.args,
  gen_visits,
  cens,
  rho = 0,
  alpha = 0,
  baseline,
  S
)
}
\arguments{
\item{M}{Integer. Number of communities (groups) to simulate.}

\item{ni}{Integer vector of length 2. Range of individual counts per community (e.g., \code{c(10, 20)}).}

\item{beta}{List or character. Either a list containing the function \code{beta.t()} for time-dependent effect,
or a string name matching one of the predefined options in \code{\link{tvbeta_fns}} (e.g., "log", "linear").}

\item{beta.args}{List. Arguments (e.g., \code{beta}, \code{tau}) required by the time-dependent effect function \code{beta.t()}.}

\item{gen_visits}{Function. A function that takes an individual's latent time and returns internal visit times.}

\item{cens}{Numeric. Loss-to-follow-up rate (0 means no censoring).}

\item{rho}{Numeric. Kendall's tau controlling dependence within sub-networks in a community. Set to 0 for independence.}

\item{alpha}{Numeric. Index parameter of the positive stable distribution for community-level frailty (0 means no frailty).}

\item{baseline}{List. A list of baseline survival/density/hazard distributions, one per stratum.}

\item{S}{Either a function or vector. If a function, it should generate stratum membership for each cluster.
If a vector, it assigns fixed stratum IDs to each cluster.}
}
\value{
A data frame with interval-censored survival data. Each row represents an individual and includes:
\describe{
\item{stratum}{Stratum ID.}
\item{group}{Community/group ID.}
\item{treat}{Treatment assignment (0 or 1).}
\item{left}{Left endpoint of the interval containing the failure time.}
\item{right}{Right endpoint of the interval containing the failure time.}
}
}
\description{
Simulates individual-level, interval-censored survival data across multiple communities and strata,
incorporating a time-dependent covariate effect (e.g., intervention assignment) and optional
within-community correlation through positive stable frailty or copula-based dependence.
}
\details{
This function allows flexible specification of the baseline hazard and time-varying covariate effects,
enabling simulations of complex, realistic trial or cohort structures.
}
\examples{
# Example setup (pseudo-code):
# baseline_list <- list(baseline1, baseline2)
# visits_fn <- function(u) seq(1, 10, by = 2)
# S_fn <- function(n) sample(1:2, n, replace = TRUE)
# df <- gen_time_dependent_beta_tx(M = 4, ni = c(10, 20),
#                                  beta = "log", beta.args = list(beta = c(0.5, -0.2)),
#                                  gen_visits = visits_fn, cens = 0.05,
#                                  rho = 0.2, alpha = 0.3, baseline = baseline_list, S = S_fn)

}
\seealso{
\code{\link{gen_individual_tvbeta}}, \code{\link{tvbeta_fns}}, \code{\link{g}}
}
